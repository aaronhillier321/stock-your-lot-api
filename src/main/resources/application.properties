# Default profile (local dev). Override with env or use prod/cert profile.
server.port=8080

spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5433}/${POSTGRES_DB:stock-your-lot}
spring.datasource.username=${POSTGRES_USER:postgres}
spring.datasource.password=${POSTGRES_PASSWORD:$tock-Your-Lot-1}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

jwt.secret=${JWT_SECRET:your-256-bit-secret-change-in-production-must-be-long-enough}
jwt.expiration-ms=${JWT_EXPIRATION_MS:86400000}

api.key=${API_KEY:}
app.invite.base-url=${INVITE_BASE_URL:http://localhost:3000}
openai.api.key=${OPENAI_API_KEY:}
openai.api.model=${OPENAI_API_MODEL:gpt-4o-mini}

# CORS: comma-separated origins (e.g. http://localhost:3000). Use * to allow any (no credentials then).
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:*}

# GCS bucket for file storage (e.g. pending extract uploads and purchase documents)
app.gcs.bucket=${GCS_BUCKET:stock-your-lot}
# Default GCP credentials path for local dev when GOOGLE_APPLICATION_CREDENTIALS is not set (classpath or file: path)
app.gcs.credentials-path=${GCS_CREDENTIALS_PATH:classpath:stock-your-lot-f7545b5c7bb7.json}

# Multipart file upload (max 20 MB for PDFs)
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

# Debug logging (default profile)
logging.level.com.stockyourlot=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG

