-- Seed 30 fake purchases with realistic data.
-- Run against your Postgres DB (not Flyway). Requires existing users and dealerships.
-- Example: psql -h localhost -U postgres -d stock-your-lot -f scripts/seed_purchases.sql

INSERT INTO purchases (
  id, buyer_id, dealership_id, purchase_date, auction_platform, vin, miles,
  purchase_price, vehicle_year, vehicle_make, vehicle_model, vehicle_trim_level,
  transport_quote, created_at, updated_at
)
SELECT * FROM (VALUES
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '1HGBH41JXMN109186', 34200, 18500.00, '2021', 'Honda', 'Accord', 'EX', 475.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '2HGFG3B54CH501234', 56800, 12200.00, '2019', 'Toyota', 'Camry', 'LE', 620.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'ADESA', '3VWFE21C04M123456', 28900, 22400.00, '2022', 'Volkswagen', 'Jetta', 'SEL', 380.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'IAA', '1FA6P8TH2L5123456', 41200, 28900.00, '2020', 'Ford', 'F-150', 'XLT', 750.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '1G1YY22G965123456', 52100, 15800.00, '2019', 'Chevrolet', 'Malibu', 'LT', 420.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '1N4AL3AP0HC123456', 38900, 14200.00, '2017', 'Nissan', 'Altima', 'SV', 550.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Brashers', '5YJ3E1EA1NF123456', 18500, 41200.00, '2022', 'Tesla', 'Model 3', 'Long Range', 890.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', 'JM1BK32F461234567', 67400, 9800.00, '2018', 'Mazda', 'Mazda3', 'Touring', 490.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'ADESA', '1C4RJFBG6MC123456', 22300, 35200.00, '2021', 'Jeep', 'Grand Cherokee', 'Laredo', 720.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'IAA', '2T1BURHE9KC123456', 44500, 13500.00, '2019', 'Toyota', 'Corolla', 'SE', 340.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '1G1ZD5ST0LF123456', 31200, 19800.00, '2020', 'Chevrolet', 'Equinox', 'LT', 510.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '5FNRL6H76MB123456', 28900, 26500.00, '2021', 'Honda', 'Pilot', 'EX-L', 680.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'ADESA', '1FADP3K20HL123456', 55600, 11200.00, '2017', 'Ford', 'Escape', 'SE', 430.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'IAA', 'JN1TANT31U0123456', 41800, 16900.00, '2019', 'Nissan', 'Rogue', 'SV', 395.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '4T1BF1FK5HU123456', 26700, 22100.00, '2017', 'Toyota', 'RAV4', 'XLE', 545.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '1HGCV1F14JA123456', 89200, 8200.00, '2018', 'Honda', 'Civic', 'LX', 320.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Brashers', 'WBA3B1C50EK123456', 38400, 24500.00, '2020', 'BMW', '330i', 'Sport', 920.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '1C4PJLAB5NW123456', 15600, 38500.00, '2022', 'Jeep', 'Wrangler', 'Sport', 810.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'ADESA', '1G1BE5SM9K7123456', 47800, 14200.00, '2019', 'Chevrolet', 'Cruze', 'Premier', 380.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'IAA', '2T2BK1BA3BC123456', 33400, 31200.00, '2021', 'Lexus', 'RX 350', 'Base', 780.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '3MZBM1U70FM123456', 62900, 11500.00, '2018', 'Mazda', 'CX-5', 'Grand Touring', 520.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '1FTFW1E84LFA12345', 42100, 42800.00, '2020', 'Ford', 'F-250', 'Lariat', 950.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'ADESA', '5YJSA1E26HF123456', 44200, 28900.00, '2017', 'Tesla', 'Model S', '75D', 1100.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'IAA', '1N6BD0CT9NN123456', 38100, 25600.00, '2022', 'Nissan', 'Pathfinder', 'Platinum', 650.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '2HGFE2F54NH123456', 19200, 27100.00, '2022', 'Honda', 'CR-V', 'EX', 480.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '4T1G11AK2MU123456', 71500, 9500.00, '2018', 'Toyota', 'Highlander', 'LE', 590.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Brashers', '1FA6P8CF4L5123456', 28900, 32500.00, '2020', 'Ford', 'Explorer', 'Limited', 720.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '1G1PC5SH7L7123456', 45600, 13800.00, '2019', 'Chevrolet', 'Impala', 'LT', 410.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'ADESA', 'JM3KFBDM5N0123456', 12400, 36800.00, '2022', 'Mazda', 'CX-9', 'Signature', 840.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'IAA', 'WAUZZZ4G6BN123456', 52300, 18900.00, '2018', 'Audi', 'A4', 'Premium', 880.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Copart', '1C3EL46R99N123456', 59800, 10200.00, '2017', 'Dodge', 'Charger', 'SXT', 570.00, now(), now()),
  (gen_random_uuid(), (SELECT id FROM users ORDER BY random() LIMIT 1), (SELECT id FROM dealerships ORDER BY random() LIMIT 1), (current_date - (random() * 400)::int)::date, 'Manheim', '5YJ3E1EB2NF123456', 22100, 38900.00, '2022', 'Tesla', 'Model Y', 'Long Range', 760.00, now(), now())
) AS t(id, buyer_id, dealership_id, purchase_date, auction_platform, vin, miles, purchase_price, vehicle_year, vehicle_make, vehicle_model, vehicle_trim_level, transport_quote, created_at, updated_at);
